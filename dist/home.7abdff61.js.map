{"mappings":"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","sources":["<anon>","static/js/bookDetail.js","static/js/scrollHandler.js","static/js/domUtils.js","static/js/config.js","static/js/starRating.js","static/js/bookHandler.js","static/js/api.js","static/js/caching.js","static/js/authorHandler.js","static/js/recommendationHandler.js","static/js/mockupHandler.js","static/js/dataUrlHandler.js"],"sourcesContent":["const $e88bdb92d8dec57e$export$c8422a29a076b4c0 = {\n    BGREMOVER: \"/remove_bg\",\n    RECOMMEND_URL: \"/suggestions\",\n    TOP_50: \"/top50\",\n    RESULT_PER_PAGE: 9,\n    GOOGLE_URL: \"/search\",\n    MOCKUP_URL: \"/mockup\"\n};\nconst $e88bdb92d8dec57e$export$d45413ebeb6cb2fc = {\n    mockupLoaded: false,\n    bgImageLoaded: false\n};\n\n\n\nconst $61ac2def64847fa8$export$d16800b7e59a8051 = (selector)=>document.querySelector(selector);\nconst $61ac2def64847fa8$export$73eac51a39d6b0eb = (selector)=>document.querySelectorAll(selector);\nconst $61ac2def64847fa8$export$1193aae213924971 = (selector, text)=>{\n    $61ac2def64847fa8$export$73eac51a39d6b0eb(selector).forEach((element)=>element.textContent = text);\n};\nfunction $61ac2def64847fa8$export$bf89549ab943a430(imageUrl) {\n    imageUrl = imageUrl.replace(\"http://\", \"https://\");\n    $61ac2def64847fa8$export$d16800b7e59a8051(\"#home-section\").style.backgroundImage = `url(${imageUrl})`;\n    const tempImg = new Image();\n    tempImg.src = imageUrl;\n    tempImg.onload = ()=>{\n        (0, $e88bdb92d8dec57e$export$d45413ebeb6cb2fc).coverLoaded = true;\n        if ((0, $e88bdb92d8dec57e$export$d45413ebeb6cb2fc).mockupLoaded) (0, $0276211fa007143c$export$a2e58475e09a3523)();\n    };\n}\nfunction $61ac2def64847fa8$export$b8d0bb2aa0adefe5(msg, parent = \"#whole-content\") {\n    const error = `<div class=\"error\">${msg}</div>`;\n    $61ac2def64847fa8$export$d16800b7e59a8051(parent).insertAdjacentHTML(\"beforeend\", error);\n}\n\n\nconst $7be79d0d3f9505af$export$dc7ee2005613a61b = ()=>{\n    const header = (0, $61ac2def64847fa8$export$d16800b7e59a8051)(\"header\");\n    let lastScrollTop = 0;\n    let dec = 0;\n    const scrollDown = ()=>header.classList.remove(\"collapse\");\n    const scrollUp = ()=>header.classList.add(\"collapse\");\n    const screenScroll = ()=>{\n        let scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n        if (dec < 15) scrollUp();\n        else scrollDown();\n        dec = dec * (lastScrollTop - scrollTop) < 0 ? 0 : dec + (lastScrollTop - scrollTop) * 0.1;\n        lastScrollTop = scrollTop;\n    };\n    window.addEventListener(\"scroll\", screenScroll);\n};\nconst $7be79d0d3f9505af$export$d1dd841af70fe4d3 = ()=>{\n    const home = (0, $61ac2def64847fa8$export$d16800b7e59a8051)(\"#home-section\");\n    const header = (0, $61ac2def64847fa8$export$d16800b7e59a8051)(\"header\");\n    const headerOnserver = new IntersectionObserver((entries)=>{\n        entries.forEach((entry)=>{\n            if (!entry.isIntersecting) header.classList.add(\"collapse\", \"dark\");\n            else header.classList.remove(\"collapse\", \"dark\");\n        });\n    }, {\n        threshold: 0.3\n    });\n    headerOnserver.observe(home);\n};\nconst $7be79d0d3f9505af$export$35953e4bb71dba4f = ()=>{\n    const content = document.getElementById(\"whole-content\");\n    let startY = 0;\n    let isPulling = false;\n    let top = false; // Use `let` for variables that will change\n    document.addEventListener(\"touchstart\", (e)=>{\n        // Check if the user is at the bottom of the page or at the top\n        if (window.innerHeight + window.scrollY >= document.body.offsetHeight || window.scrollY === 0) {\n            startY = e.touches[0].pageY;\n            isPulling = true;\n            top = window.scrollY === 0;\n        }\n    }, {\n        passive: true\n    });\n    document.addEventListener(\"touchmove\", (e)=>{\n        if (isPulling) {\n            const pullDistance = e.touches[0].pageY - startY;\n            // Apply the effect based on the direction of the pull\n            if (top) // Pulling down at the top\n            content.style.transform = `translateY(${-pullDistance * 0.1}px)`;\n            else // Pulling up at the bottom\n            content.style.transform = `translateY(${pullDistance < 0 ? pullDistance * 0.01 : 0}px)`;\n        }\n    }, {\n        passive: true\n    });\n    document.addEventListener(\"touchend\", ()=>{\n        if (isPulling) content.style.transform = \"\"; // Reset the transform\n        isPulling = false;\n    });\n};\nconst $7be79d0d3f9505af$var$scrollHandler = (target)=>{\n    const targetId = target.getAttribute(\"href\");\n    const targetElement = (0, $61ac2def64847fa8$export$d16800b7e59a8051)(targetId);\n    const targetPosition = targetElement.offsetTop;\n    const headerHeight = (0, $61ac2def64847fa8$export$d16800b7e59a8051)(\"header\").offsetHeight;\n    const screenHeight = window.innerHeight;\n    window.scrollTo({\n        top: targetPosition - headerHeight,\n        behavior: \"smooth\"\n    });\n};\nconst $7be79d0d3f9505af$export$9f210a0fd4be39e9 = ()=>{\n    const nav = (0, $61ac2def64847fa8$export$d16800b7e59a8051)(\"nav\");\n    const navLinks = (0, $61ac2def64847fa8$export$73eac51a39d6b0eb)(\".nav-links\");\n    const navBtns = (0, $61ac2def64847fa8$export$73eac51a39d6b0eb)(\".btns--nav\");\n    navLinks.forEach((navLink)=>{\n        navLink.addEventListener(\"click\", (e)=>{\n            const target = e.target.closest(\".nav-link\");\n            if (!target) return;\n            e.preventDefault();\n            console.log(target);\n            $7be79d0d3f9505af$var$scrollHandler(target);\n        });\n    });\n    navBtns.forEach((navBtn)=>{\n        navBtn.addEventListener(\"click\", (e)=>{\n            const target = e.target.closest(\".btn--nav\");\n            if (!target) return;\n            e.preventDefault();\n            $7be79d0d3f9505af$var$scrollHandler(target);\n        });\n    });\n};\nfunction $7be79d0d3f9505af$export$a0e39e713e851a4() {\n    const revealElements = (0, $61ac2def64847fa8$export$73eac51a39d6b0eb)(\"section:not(#home-section)\");\n    const revealObserver = new IntersectionObserver((entries)=>{\n        entries.forEach((entry)=>{\n            if (entry.isIntersecting) {\n                entry.target.style.transform = \"translateY(0)\";\n                entry.target.style.opacity = 1;\n            }\n        });\n    });\n    revealElements.forEach((element)=>{\n        revealObserver.observe(element);\n    });\n}\nconst $7be79d0d3f9505af$export$8bf47a025358f08d = ()=>{\n// const book = getElement(\".book-main\");\n// const removeBook = () => {\n//   book.style.transform = \"rotateZ(20deg) translateX(100%)\";\n// };\n// const addBook = () => {\n//   book.style.transform = \"\";\n// };\n// const homeObserver = new IntersectionObserver(([entry, ..._]) => {\n//   if (entry.isIntersecting) removeBook();\n// });\n// homeObserver.observe(getElement(\"#target\"));\n};\n\n\n\nconst $c68c6eb8d75939cf$export$4a3e42d2e1325ed0 = ()=>{\n    const stars = (0, $61ac2def64847fa8$export$73eac51a39d6b0eb)(\".stars span\");\n    const nStars = +document.querySelector(\".stars\").dataset.star;\n    stars.forEach((star, i)=>{\n        if (i < nStars) star.style.opacity = \"1\";\n    });\n};\n\n\n\nclass $0d8aff29f2708e5b$var$Cache {\n    constructor(name){\n        this.name = name;\n        this.cache = localStorage.getItem(name) ? JSON.parse(localStorage.getItem(name)) : {};\n        this.limit = 25;\n    }\n    set(key, value) {\n        this.cache[key] = value;\n        if (Object.keys(this.cache).length > this.limit) {\n            const keys = Object.keys(this.cache);\n            delete this.cache[keys[0]];\n        }\n        localStorage.setItem(this.name, JSON.stringify(this.cache));\n    }\n    get(key) {\n        return this.cache[key];\n    }\n    delete(key) {\n        delete this.cache[key];\n        localStorage.setItem(this.name, JSON.stringify(this.cache));\n    }\n}\nconst $0d8aff29f2708e5b$var$simpleCache = new $0d8aff29f2708e5b$var$Cache(\"cachedForYourConvenienceOnly\");\nvar $0d8aff29f2708e5b$export$2e2bcd8739ae039 = $0d8aff29f2708e5b$var$simpleCache;\n\n\nconst $4db2a84c113292af$var$timer = (ms)=>new Promise((resolve, reject)=>setTimeout(()=>reject(\"Response Timeout!! Internet Connection too slow\"), ms));\nconst $4db2a84c113292af$export$7a171f172be0782e = async (url, options = null, jsonify = true)=>{\n    try {\n        const cacheData = (0, $0d8aff29f2708e5b$export$2e2bcd8739ae039).get(url);\n        if (cacheData) return cacheData;\n        const response = await Promise.race([\n            fetch(url, options),\n            $4db2a84c113292af$var$timer(20000)\n        ]);\n        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n        if (!jsonify) return response;\n        const data = await response.json();\n        (0, $0d8aff29f2708e5b$export$2e2bcd8739ae039).set(url, data);\n        return data;\n    } catch (error) {\n        console.error(error);\n        throw error;\n    }\n};\nconst $4db2a84c113292af$export$4e87299c28e9a838 = async (url, data)=>{\n    try {\n        const file_name = data.file_name;\n        const cacheData = (0, $0d8aff29f2708e5b$export$2e2bcd8739ae039).get(file_name);\n        if (cacheData) return cacheData;\n        const response = await fetch(url, {\n            method: \"POST\",\n            body: JSON.stringify(data),\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n        if (response.status !== 200) return [];\n        const responseData = await response.json();\n        (0, $0d8aff29f2708e5b$export$2e2bcd8739ae039).set(file_name, responseData);\n        return responseData;\n    } catch (error) {\n        throw error;\n    }\n};\nconst $4db2a84c113292af$export$bcbafd0c688e5b8d = async (image_url, file_name)=>{\n    const cached = (0, $0d8aff29f2708e5b$export$2e2bcd8739ae039).get(file_name);\n    if (cached) return cached;\n    const url = `${(0, $e88bdb92d8dec57e$export$c8422a29a076b4c0).BGREMOVER}?file_path=${image_url}&file_name=${file_name}`;\n    try {\n        const data = await $4db2a84c113292af$export$7a171f172be0782e(url);\n        (0, $0d8aff29f2708e5b$export$2e2bcd8739ae039).set(file_name, data);\n        return data;\n    } catch (error) {\n        console.error(error);\n        throw error;\n    }\n};\n\n\n\n\nconst $c828a01d1e3fe69d$var$AUTHOR_IMAGE = (id)=>`https://covers.openlibrary.org/b/id/${id}-L.jpg`;\nconst $c828a01d1e3fe69d$export$31577d79be25397a = async (author)=>{\n    const url = `https://openlibrary.org/search/authors.json?q=${author}`;\n    const authorResponse = await (0, $4db2a84c113292af$export$7a171f172be0782e)(url);\n    const authorKey = authorResponse.docs[0].key;\n    const authorUrl = `https://openlibrary.org/authors/${authorKey}.json`;\n    const authorData = await (0, $4db2a84c113292af$export$7a171f172be0782e)(authorUrl);\n    return {\n        name: authorData.name,\n        image: authorData.photos ? $c828a01d1e3fe69d$var$AUTHOR_IMAGE(authorData.photos[0]) : null,\n        bio: authorData.bio?.value || authorData.bio || \"\",\n        url: authorData.links ? authorData.links[0].url : \"#\"\n    };\n};\n\n\n\n\nconst { RECOMMEND_URL: $59a61f5b5bfc582c$var$RECOMMEND_URL } = (0, $e88bdb92d8dec57e$export$c8422a29a076b4c0);\nconst $59a61f5b5bfc582c$export$358779cacf74ee7a = async (query)=>{\n    const data = {\n        \"name\": query\n    };\n    try {\n        const recommendations = await (0, $4db2a84c113292af$export$4e87299c28e9a838)($59a61f5b5bfc582c$var$RECOMMEND_URL, data);\n        return recommendations;\n    } catch (error) {\n        throw error;\n    }\n};\n\n\n\n\n\n\nconst $55834cc0ed2fb12e$var$setMockup = (mockupURL)=>{\n    document.querySelectorAll(\".book-img img\").forEach((bookImage)=>{\n        bookImage.src = mockupURL;\n        bookImage.addEventListener(\"load\", ()=>{\n            (0, $e88bdb92d8dec57e$export$d45413ebeb6cb2fc).mockupLoaded = true;\n            if ((0, $e88bdb92d8dec57e$export$d45413ebeb6cb2fc).coverLoaded) (0, $0276211fa007143c$export$a2e58475e09a3523)();\n        });\n    });\n};\nconst $55834cc0ed2fb12e$export$c8ec9adc2ec8654 = async (image_url, book_name)=>{\n    image_url = image_url.replace(\"http://\", \"https://\");\n    const file_name = \"mockup_\" + book_name;\n    const url = (0, $e88bdb92d8dec57e$export$c8422a29a076b4c0).MOCKUP_URL;\n    const options = {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            Accept: \"application/json\"\n        },\n        body: JSON.stringify({\n            nr: 1404,\n            layer_inputs: [\n                {\n                    id: \"jujmugkht9uyhlb6sjd\",\n                    data: image_url,\n                    checked: true\n                },\n                {\n                    id: \"jujmugkhplsvkwqyyxg\",\n                    checked: true,\n                    color: {\n                        red: 0,\n                        green: 0,\n                        blue: 0\n                    }\n                }\n            ]\n        })\n    };\n    try {\n        const data = {\n            options: options,\n            file_name: file_name\n        };\n        const response = await (0, $4db2a84c113292af$export$4e87299c28e9a838)(url, data);\n        if (!response) {\n            if ((0, $e88bdb92d8dec57e$export$d45413ebeb6cb2fc).coverLoaded) (0, $0276211fa007143c$export$a2e58475e09a3523)();\n            throw new Error(response[\"message\"]);\n        }\n        const mockupURL = response[\"file_path\"];\n        $55834cc0ed2fb12e$var$setMockup(mockupURL);\n    } catch (error) {\n        console.error(error);\n        throw error;\n    }\n};\n\n\n\nconst $39a490758e6557ae$export$2cb4d324af6458cf = ()=>{\n    const dataUrl = document.querySelectorAll(\"[data-url]\");\n    dataUrl.forEach((element)=>{\n        const url = element.getAttribute(\"data-url\");\n        element.addEventListener(\"click\", (event)=>{\n            event.preventDefault();\n            window.location.href = url;\n        });\n    });\n};\nconst $39a490758e6557ae$export$8718b2c0e8da1d9c = ()=>{\n    const books = (0, $61ac2def64847fa8$export$d16800b7e59a8051)(\".books\");\n    books.addEventListener(\"click\", (event)=>{\n        const target = event.target.closest(\"[data-url]\");\n        if (!target) return;\n        event.preventDefault();\n        const url = target.getAttribute(\"data-url\");\n        window.location.href = url;\n    });\n};\n\n\nconst { GOOGLE_URL: $55141bda1e858a82$var$GOOGLE_URL } = (0, $e88bdb92d8dec57e$export$c8422a29a076b4c0);\nconst $55141bda1e858a82$var$setReccommendations = (reccomends)=>{\n    const bookList = (0, $61ac2def64847fa8$export$73eac51a39d6b0eb)(\".book-list .book\");\n    Object.entries(reccomends).forEach(([title, detail], i)=>{\n        const { author: author, image: image } = detail;\n        bookList[i].querySelector(\"img\").src = image;\n        bookList[i].querySelector(\".name\").textContent = title; // Corrected\n        bookList[i].querySelector(\".author-name\").textContent = author; // Corrected\n        const url = `/book?book=${encodeURIComponent(title)}`;\n        bookList[i].dataset.url = url;\n    });\n    (0, $39a490758e6557ae$export$2cb4d324af6458cf)();\n};\nconst $55141bda1e858a82$var$setAuthorData = (authors)=>{\n    (0, $c828a01d1e3fe69d$export$31577d79be25397a)(authors[0]).then((authorData)=>{\n        if (authorData.bio === \"\") {\n            (0, $61ac2def64847fa8$export$d16800b7e59a8051)(\"#about-author\").style.display = \"none\";\n            return;\n        }\n        (0, $61ac2def64847fa8$export$1193aae213924971)(\".author-name\", authorData.name);\n        if (authorData.image) {\n            const authorImageName = \"author_image_\" + authorData.name;\n            (0, $4db2a84c113292af$export$bcbafd0c688e5b8d)(authorData.image, authorImageName).then((res)=>{\n                (0, $61ac2def64847fa8$export$d16800b7e59a8051)(\"#author-img img\").src = res[\"file_path\"] ?? authorData.image;\n            });\n        }\n        (0, $61ac2def64847fa8$export$d16800b7e59a8051)(\"#about-author .content p\").innerHTML = authorData.bio;\n        (0, $61ac2def64847fa8$export$d16800b7e59a8051)(\".author-url\").href = authorData.url;\n    }).catch((error)=>{\n        console.error(error);\n        (0, $61ac2def64847fa8$export$d16800b7e59a8051)(\"#about-author\").style.display = \"none\";\n    });\n};\n// Helper function to calculate Jaccard similarity between two strings\nfunction $55141bda1e858a82$var$patternBoost(str1, str2) {\n    const patterns = [\n        {\n            regex: /\\bbook\\s+\\d+\\b/i,\n            weight: 0.3\n        },\n        {\n            regex: /\\bvolume\\s+\\d+\\b/i,\n            weight: 0.2\n        },\n        {\n            regex: /\\bpart\\s+\\d+\\b/i,\n            weight: 0.2\n        },\n        {\n            regex: /\\bhardcover\\b/i,\n            weight: 0.1\n        }\n    ];\n    let boost = 0;\n    patterns.forEach((pattern)=>{\n        const hasPattern1 = pattern.regex.test(str1);\n        const hasPattern2 = pattern.regex.test(str2);\n        if (hasPattern1 && hasPattern2) boost += pattern.weight; // Increase boost if both have the pattern\n    });\n    return boost;\n}\nfunction $55141bda1e858a82$var$jaccardSimilarity(str1, str2) {\n    const set1 = new Set(str1.toLowerCase().split(/\\W+/));\n    const set2 = new Set(str2.toLowerCase().split(/\\W+/));\n    const intersection = new Set([\n        ...set1\n    ].filter((x)=>set2.has(x)));\n    const union = new Set([\n        ...set1,\n        ...set2\n    ]);\n    let similarity = intersection.size / union.size;\n    // Apply pattern boost\n    const boost = $55141bda1e858a82$var$patternBoost(str1, str2);\n    similarity += boost;\n    return similarity > 1 ? 1 : similarity; // Cap similarity to 1\n}\nconst $55141bda1e858a82$export$be7c2acc48adceee = async (query)=>{\n    try {\n        const url = `${$55141bda1e858a82$var$GOOGLE_URL}?q=${query}`;\n        const searchData = await (0, $4db2a84c113292af$export$7a171f172be0782e)(url);\n        // If no items are found, return an error or a placeholder\n        if (!searchData.items || searchData.items.length === 0) throw new Error(\"No books found\");\n        // Find the book with the most similar title to the query\n        let mostSimilarBook = searchData.items[0];\n        let highestSimilarity = 0;\n        searchData.items.forEach((item)=>{\n            const similarity = $55141bda1e858a82$var$jaccardSimilarity(query, item.volumeInfo.title);\n            if (similarity > highestSimilarity) {\n                highestSimilarity = similarity;\n                mostSimilarBook = item;\n            }\n        });\n        const shortInfo = mostSimilarBook.searchInfo?.textSnippet || \"\";\n        const bookUrl = mostSimilarBook.selfLink;\n        const bookData = await (0, $4db2a84c113292af$export$7a171f172be0782e)(bookUrl);\n        let reccomends;\n        try {\n            reccomends = await (0, $59a61f5b5bfc582c$export$358779cacf74ee7a)(query);\n        } catch (error) {\n            console.error(error);\n            reccomends = null;\n        }\n        return {\n            title: bookData.volumeInfo.title,\n            subtitle: bookData.volumeInfo.subtitle,\n            authors: bookData.volumeInfo.authors,\n            description: bookData.volumeInfo.description,\n            thumbnail: bookData.volumeInfo.imageLinks?.thumbnail ?? \"https://via.placeholder.com/150\",\n            infoLink: bookData.volumeInfo.infoLink,\n            largeImage: bookData.volumeInfo.imageLinks?.large || null,\n            rating: bookData.volumeInfo.averageRating,\n            buyLink: bookData.saleInfo.buyLink,\n            previewLink: bookData.accessInfo?.webReaderLink || \"https://books.google.com/\",\n            categories: bookData.volumeInfo.categories?.map((x)=>x.split(\"/\").slice(-1)[0].trim()),\n            shortInfo: shortInfo,\n            reccomends: reccomends\n        };\n    } catch (error) {\n        console.error(error);\n        throw error;\n    }\n};\nconst $55141bda1e858a82$export$77576c9b28f16747 = (data)=>{\n    const { title: title, subtitle: subtitle, previewLink: previewLink, authors: authors, description: description, thumbnail: thumbnail, largeImage: largeImage, buyLink: buyLink, categories: categories, shortInfo: shortInfo, reccomends: reccomends } = data;\n    const genre = categories[1];\n    const subgenre = categories[0];\n    const newTitle = `${title} | ${subtitle || \"\"} | A book by ${authors.join(\", \")}`;\n    const image = largeImage || thumbnail;\n    document.title = newTitle;\n    (0, $61ac2def64847fa8$export$1193aae213924971)(\".b-name\", title);\n    (0, $61ac2def64847fa8$export$1193aae213924971)(\".author-name\", authors.join(\", \"));\n    (0, $61ac2def64847fa8$export$1193aae213924971)(\".short-info\", shortInfo.slice(0, 200) + \"...\");\n    (0, $61ac2def64847fa8$export$d16800b7e59a8051)(\".user-categories\").innerHTML = Array.from(new Set(categories)).map((x)=>`<li>${x}</li>`).join(\"\");\n    (0, $61ac2def64847fa8$export$73eac51a39d6b0eb)(\".order-link\").forEach((element)=>element.href = buyLink || \"\");\n    (0, $61ac2def64847fa8$export$73eac51a39d6b0eb)(\".preview-link\").forEach((x)=>x.href = previewLink);\n    (0, $61ac2def64847fa8$export$73eac51a39d6b0eb)(\".genre\").forEach((x)=>x.textContent = genre);\n    (0, $61ac2def64847fa8$export$73eac51a39d6b0eb)(\".sub-genre\").forEach((x)=>x.textContent = subgenre);\n    (0, $61ac2def64847fa8$export$d16800b7e59a8051)(\"#description\").innerHTML = description;\n    (0, $61ac2def64847fa8$export$bf89549ab943a430)(thumbnail);\n    (0, $55834cc0ed2fb12e$export$c8ec9adc2ec8654)(thumbnail, title);\n    $55141bda1e858a82$var$setAuthorData(authors);\n    if (!reccomends) (0, $61ac2def64847fa8$export$d16800b7e59a8051)(\"#recommended-books\").style.display = \"none\";\n    else $55141bda1e858a82$var$setReccommendations(reccomends);\n}; /*\r\n1. Import necessary modules and configurations.\r\n2. Define `setReccommendations` function to update the DOM with book recommendations.\r\n  a. Get all book elements from the DOM.\r\n  b. Iterate over each recommendation and update the corresponding book element with the image, title, author, and a URL-encoded link.\r\n3. Define `setAuthorData` function to fetch and display author data.\r\n  a. Fetch author data using the first author's name.\r\n  b. If author data is fetched successfully, update the DOM with the author's name, bio, and image.\r\n  c. If the author's bio is empty or an error occurs, hide the author section.\r\n4. Define `getBook` async function to fetch book data and recommendations based on a query.\r\n  a. Construct a URL to fetch book data from the Google Books API.\r\n  b. Fetch book data and extract necessary details.\r\n  c. Attempt to fetch recommendations; handle errors by setting recommendations to null.\r\n  d. Return an object containing all the extracted and fetched data.\r\n5. Define `setWebpageData` function to update the webpage with the fetched book data.\r\n  a. Update the document title and various elements in the DOM with the book's details.\r\n  b. If recommendations are available, display them; otherwise, hide the recommendations section.\r\n\r\n*/ \n\n\n\nconst $0276211fa007143c$export$a2e58475e09a3523 = ()=>{\n    (0, $61ac2def64847fa8$export$d16800b7e59a8051)(\".loader\").style.display = \"none\";\n    (0, $61ac2def64847fa8$export$d16800b7e59a8051)(\"#whole-content\").style.display = \"block\";\n    if ((0, $61ac2def64847fa8$export$d16800b7e59a8051)(\".error\")) (0, $61ac2def64847fa8$export$d16800b7e59a8051)(\".error\").style.display = \"none\";\n};\ndocument.addEventListener(\"DOMContentLoaded\", ()=>{\n    (0, $7be79d0d3f9505af$export$dc7ee2005613a61b)();\n    (0, $7be79d0d3f9505af$export$d1dd841af70fe4d3)();\n    (0, $7be79d0d3f9505af$export$35953e4bb71dba4f)();\n    (0, $7be79d0d3f9505af$export$9f210a0fd4be39e9)();\n    (0, $7be79d0d3f9505af$export$a0e39e713e851a4)();\n    const urlParams = new URLSearchParams(window.location.search);\n    const bookName = urlParams.get(\"book\");\n    (0, $55141bda1e858a82$export$be7c2acc48adceee)(bookName).then((data)=>{\n        (0, $55141bda1e858a82$export$77576c9b28f16747)(data);\n    }).catch((error)=>{\n        (0, $61ac2def64847fa8$export$b8d0bb2aa0adefe5)(error, \"body\");\n        (0, $61ac2def64847fa8$export$d16800b7e59a8051)(\".loader\").style.display = \"none\";\n        (0, $61ac2def64847fa8$export$d16800b7e59a8051)(\"#whole-content\").style.display = \"none\";\n    });\n});\n\n\n//# sourceMappingURL=home.7abdff61.js.map\n","import {\r\n  initScrollHandler,\r\n  elasticScroll,\r\n  navScroller,\r\n  scrollReveal,\r\n  removeHeader,\r\n} from \"./scrollHandler.js\";\r\nimport { initStarRating } from \"./starRating.js\";\r\nimport { getBook, setWebpageData } from \"./bookHandler.js\";\r\nimport { getElement, setError } from \"./domUtils.js\";\r\n\r\nexport const loadPage = () => {\r\n  getElement(\".loader\").style.display = \"none\";\r\n  getElement(\"#whole-content\").style.display = \"block\";\r\n  if (getElement(\".error\")) getElement(\".error\").style.display = \"none\";\r\n};\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  initScrollHandler();\r\n  removeHeader();\r\n  elasticScroll();\r\n  navScroller();\r\n  scrollReveal();\r\n\r\n  const urlParams = new URLSearchParams(window.location.search);\r\n  const bookName = urlParams.get(\"book\");\r\n\r\n  getBook(bookName)\r\n    .then((data) => {\r\n      setWebpageData(data);\r\n    })\r\n    .catch((error) => {\r\n      setError(error, \"body\");\r\n      getElement(\".loader\").style.display = \"none\";\r\n      getElement(\"#whole-content\").style.display = \"none\";\r\n    });\r\n});\r\n","import { getElement, getElements } from \"./domUtils.js\";\r\n\r\nexport const initScrollHandler = () => {\r\n  const header = getElement(\"header\");\r\n  let lastScrollTop = 0;\r\n  let dec = 0;\r\n\r\n  const scrollDown = () => header.classList.remove(\"collapse\");\r\n  const scrollUp = () => header.classList.add(\"collapse\");\r\n\r\n  const screenScroll = () => {\r\n    let scrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n    if (dec < 15) {\r\n      scrollUp();\r\n    } else {\r\n      scrollDown();\r\n    }\r\n    dec =\r\n      dec * (lastScrollTop - scrollTop) < 0\r\n        ? 0\r\n        : dec + (lastScrollTop - scrollTop) * 0.1;\r\n    lastScrollTop = scrollTop;\r\n  };\r\n\r\n  window.addEventListener(\"scroll\", screenScroll);\r\n};\r\n\r\nexport const removeHeader = () => {\r\n  const home = getElement(\"#home-section\");\r\n  const header = getElement(\"header\");\r\n  const headerOnserver = new IntersectionObserver(\r\n    (entries) => {\r\n      entries.forEach((entry) => {\r\n        if (!entry.isIntersecting) {\r\n          header.classList.add(\"collapse\", \"dark\");\r\n        } else {\r\n          header.classList.remove(\"collapse\", \"dark\");\r\n        }\r\n      });\r\n    },\r\n    { threshold: 0.3 }\r\n  );\r\n\r\n  headerOnserver.observe(home);\r\n};\r\n\r\nexport const elasticScroll = () => {\r\n  const content = document.getElementById(\"whole-content\");\r\n  let startY = 0;\r\n  let isPulling = false;\r\n  let top = false; // Use `let` for variables that will change\r\n\r\n  document.addEventListener(\r\n    \"touchstart\",\r\n    (e) => {\r\n      // Check if the user is at the bottom of the page or at the top\r\n      if (\r\n        window.innerHeight + window.scrollY >= document.body.offsetHeight ||\r\n        window.scrollY === 0\r\n      ) {\r\n        startY = e.touches[0].pageY;\r\n        isPulling = true;\r\n        top = window.scrollY === 0;\r\n      }\r\n    },\r\n    { passive: true }\r\n  );\r\n\r\n  document.addEventListener(\r\n    \"touchmove\",\r\n    (e) => {\r\n      if (isPulling) {\r\n        const pullDistance = e.touches[0].pageY - startY;\r\n        // Apply the effect based on the direction of the pull\r\n        if (top) {\r\n          // Pulling down at the top\r\n          content.style.transform = `translateY(${-pullDistance * 0.1}px)`;\r\n        } else {\r\n          // Pulling up at the bottom\r\n          content.style.transform = `translateY(${\r\n            pullDistance < 0 ? pullDistance * 0.01 : 0\r\n          }px)`;\r\n        }\r\n      }\r\n    },\r\n    { passive: true }\r\n  );\r\n\r\n  document.addEventListener(\"touchend\", () => {\r\n    if (isPulling) {\r\n      content.style.transform = \"\"; // Reset the transform\r\n    }\r\n    isPulling = false;\r\n  });\r\n};\r\n\r\nconst scrollHandler = (target) => {\r\n  const targetId = target.getAttribute(\"href\");\r\n  const targetElement = getElement(targetId);\r\n\r\n  const targetPosition = targetElement.offsetTop;\r\n  const headerHeight = getElement(\"header\").offsetHeight;\r\n  const screenHeight = window.innerHeight;\r\n\r\n    window.scrollTo({\r\n      top: targetPosition - headerHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n};\r\n\r\nexport const navScroller = () => {\r\n  const nav = getElement(\"nav\");\r\n  const navLinks = getElements(\".nav-links\");\r\n  const navBtns = getElements(\".btns--nav\");\r\n\r\n  navLinks.forEach((navLink) => {\r\n    navLink.addEventListener(\"click\", (e) => {\r\n      const target = e.target.closest(\".nav-link\");\r\n      if (!target) return;\r\n      e.preventDefault();\r\n      console.log(target);\r\n      scrollHandler(target);\r\n    });\r\n  });\r\n\r\n  navBtns.forEach((navBtn) => {\r\n    navBtn.addEventListener(\"click\", (e) => {\r\n      const target = e.target.closest(\".btn--nav\");\r\n      if (!target) return;\r\n      e.preventDefault();\r\n      scrollHandler(target);\r\n    });\r\n  });\r\n};\r\n\r\nexport function scrollReveal() {\r\n  const revealElements = getElements(\"section:not(#home-section)\");\r\n\r\n  const revealObserver = new IntersectionObserver((entries) => {\r\n    entries.forEach((entry) => {\r\n      if (entry.isIntersecting) {\r\n        entry.target.style.transform = \"translateY(0)\";\r\n        entry.target.style.opacity = 1;\r\n      }\r\n    });\r\n  });\r\n\r\n  revealElements.forEach((element) => {\r\n    revealObserver.observe(element);\r\n  });\r\n}\r\n\r\nexport const removeBookHandler = () => {\r\n  // const book = getElement(\".book-main\");\r\n  // const removeBook = () => {\r\n  //   book.style.transform = \"rotateZ(20deg) translateX(100%)\";\r\n  // };\r\n  // const addBook = () => {\r\n  //   book.style.transform = \"\";\r\n  // };\r\n  // const homeObserver = new IntersectionObserver(([entry, ..._]) => {\r\n  //   if (entry.isIntersecting) removeBook();\r\n  // });\r\n  // homeObserver.observe(getElement(\"#target\"));\r\n};\r\n","import { stateVariables } from \"./config\";\r\nimport { loadPage } from \"./bookDetail\";\r\n\r\nexport const getElement = (selector) => document.querySelector(selector);\r\nexport const getElements = (selector) => document.querySelectorAll(selector);\r\nexport const setElementText = (selector, text) => {\r\n  getElements(selector).forEach((element) => (element.textContent = text));\r\n};\r\n\r\nexport function setBookCoverImage(imageUrl) {\r\n  imageUrl = imageUrl.replace(\"http://\", \"https://\");\r\n  getElement(\"#home-section\").style.backgroundImage = `url(${imageUrl})`;\r\n  const tempImg = new Image();\r\n  tempImg.src = imageUrl;\r\n  tempImg.onload = () => {\r\n    stateVariables.coverLoaded = true;\r\n    if(stateVariables.mockupLoaded) {\r\n      loadPage();\r\n    }\r\n  };\r\n}\r\n\r\nexport function setError(msg, parent = \"#whole-content\") {\r\n  const error = `<div class=\"error\">${msg}</div>`;\r\n  getElement(parent).insertAdjacentHTML(\"beforeend\", error);\r\n}\r\n","export const API_CONFIG = {\r\n  BGREMOVER: \"/remove_bg\",\r\n  RECOMMEND_URL: \"/suggestions\",\r\n  TOP_50: \"/top50\",\r\n  RESULT_PER_PAGE: 9,\r\n  GOOGLE_URL: \"/search\",\r\n  MOCKUP_URL: \"/mockup\",\r\n};\r\n\r\n\r\nexport const stateVariables = {\r\n  mockupLoaded: false,\r\n  bgImageLoaded: false,\r\n};","import { getElements } from \"./domUtils.js\";\r\n\r\nexport const initStarRating = () => {\r\n  const stars = getElements(\".stars span\");\r\n  const nStars = +document.querySelector(\".stars\").dataset.star;\r\n\r\n  stars.forEach((star, i) => {\r\n    if (i < nStars) {\r\n      star.style.opacity = \"1\";\r\n    }\r\n  });\r\n};\r\n","import { getData, removeBackground } from \"./api.js\";\r\nimport {\r\n  getElement,\r\n  getElements,\r\n  setBookCoverImage,\r\n  setElementText,\r\n} from \"./domUtils.js\";\r\nimport { getAuthor } from \"./authorHandler.js\";\r\nimport { getRecommendations } from \"./recommendationHandler.js\";\r\nimport { API_CONFIG } from \"./config.js\";\r\nimport { renderMockup } from \"./mockupHandler.js\";\r\nimport { handleDataUrl } from \"./dataUrlHandler.js\";\r\n\r\nconst { GOOGLE_URL } = API_CONFIG;\r\n\r\nconst setReccommendations = (reccomends) => {\r\n  const bookList = getElements(\".book-list .book\");\r\n  Object.entries(reccomends).forEach(([title, detail], i) => {\r\n    const { author, image } = detail;\r\n    bookList[i].querySelector(\"img\").src = image;\r\n    bookList[i].querySelector(\".name\").textContent = title; // Corrected\r\n    bookList[i].querySelector(\".author-name\").textContent = author; // Corrected\r\n    const url = `/book?book=${encodeURIComponent(title)}`;\r\n    bookList[i].dataset.url = url;\r\n  });\r\n  handleDataUrl();\r\n};\r\n\r\nconst setAuthorData = (authors) => {\r\n  getAuthor(authors[0])\r\n    .then((authorData) => {\r\n      if (authorData.bio === \"\") {\r\n        getElement(\"#about-author\").style.display = \"none\";\r\n        return;\r\n      }\r\n      setElementText(\".author-name\", authorData.name);\r\n      if (authorData.image) {\r\n        const authorImageName = \"author_image_\" + authorData.name;\r\n        removeBackground(authorData.image, authorImageName).then((res) => {\r\n          getElement(\"#author-img img\").src =\r\n            res[\"file_path\"] ?? authorData.image;\r\n        });\r\n      }\r\n      getElement(\"#about-author .content p\").innerHTML = authorData.bio;\r\n      getElement(\".author-url\").href = authorData.url;\r\n    })\r\n    .catch((error) => {\r\n      console.error(error);\r\n      getElement(\"#about-author\").style.display = \"none\";\r\n    });\r\n};\r\n\r\n// Helper function to calculate Jaccard similarity between two strings\r\nfunction patternBoost(str1, str2) {\r\n  const patterns = [\r\n    { regex: /\\bbook\\s+\\d+\\b/i, weight: 0.3 }, // Book number pattern\r\n    { regex: /\\bvolume\\s+\\d+\\b/i, weight: 0.2 }, // Volume pattern\r\n    { regex: /\\bpart\\s+\\d+\\b/i, weight: 0.2 }, // Part number pattern\r\n    { regex: /\\bhardcover\\b/i, weight: 0.1 }, // Hardcover/paperback pattern\r\n  ];\r\n\r\n  let boost = 0;\r\n\r\n  patterns.forEach((pattern) => {\r\n    const hasPattern1 = pattern.regex.test(str1);\r\n    const hasPattern2 = pattern.regex.test(str2);\r\n\r\n    if (hasPattern1 && hasPattern2) {\r\n      boost += pattern.weight; // Increase boost if both have the pattern\r\n    }\r\n  });\r\n\r\n  return boost;\r\n}\r\n\r\nfunction jaccardSimilarity(str1, str2) {\r\n  const set1 = new Set(str1.toLowerCase().split(/\\W+/));\r\n  const set2 = new Set(str2.toLowerCase().split(/\\W+/));\r\n\r\n  const intersection = new Set([...set1].filter((x) => set2.has(x)));\r\n  const union = new Set([...set1, ...set2]);\r\n\r\n  let similarity = intersection.size / union.size;\r\n\r\n  // Apply pattern boost\r\n  const boost = patternBoost(str1, str2);\r\n  similarity += boost;\r\n\r\n  return similarity > 1 ? 1 : similarity; // Cap similarity to 1\r\n}\r\n\r\n// Function to get the most similar book based on the query\r\nexport const getBook = async (query) => {\r\n  try {\r\n    const url = `${GOOGLE_URL}?q=${query}`;\r\n    const searchData = await getData(url);\r\n\r\n    // If no items are found, return an error or a placeholder\r\n    if (!searchData.items || searchData.items.length === 0) {\r\n      throw new Error(\"No books found\");\r\n    }\r\n\r\n    // Find the book with the most similar title to the query\r\n    let mostSimilarBook = searchData.items[0];\r\n    let highestSimilarity = 0;\r\n\r\n    searchData.items.forEach((item) => {\r\n      const similarity = jaccardSimilarity(query, item.volumeInfo.title);\r\n      if (similarity > highestSimilarity) {\r\n        highestSimilarity = similarity;\r\n        mostSimilarBook = item;\r\n      }\r\n    });\r\n\r\n    const shortInfo = mostSimilarBook.searchInfo?.textSnippet || \"\";\r\n    const bookUrl = mostSimilarBook.selfLink;\r\n    const bookData = await getData(bookUrl);\r\n\r\n    let reccomends;\r\n\r\n    try {\r\n      reccomends = await getRecommendations(query);\r\n    } catch (error) {\r\n      console.error(error);\r\n      reccomends = null;\r\n    }\r\n\r\n    return {\r\n      title: bookData.volumeInfo.title,\r\n      subtitle: bookData.volumeInfo.subtitle,\r\n      authors: bookData.volumeInfo.authors,\r\n      description: bookData.volumeInfo.description,\r\n      thumbnail:\r\n        bookData.volumeInfo.imageLinks?.thumbnail ??\r\n        \"https://via.placeholder.com/150\",\r\n      infoLink: bookData.volumeInfo.infoLink,\r\n      largeImage: bookData.volumeInfo.imageLinks?.large || null,\r\n      rating: bookData.volumeInfo.averageRating,\r\n      buyLink: bookData.saleInfo.buyLink,\r\n      previewLink:\r\n        bookData.accessInfo?.webReaderLink || \"https://books.google.com/\",\r\n      categories: bookData.volumeInfo.categories?.map((x) =>\r\n        x.split(\"/\").slice(-1)[0].trim()\r\n      ),\r\n      shortInfo,\r\n      reccomends,\r\n    };\r\n  } catch (error) {\r\n    console.error(error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const setWebpageData = (data) => {\r\n  const {\r\n    title,\r\n    subtitle,\r\n    previewLink,\r\n    authors,\r\n    description,\r\n    thumbnail,\r\n    largeImage,\r\n    buyLink,\r\n    categories,\r\n    shortInfo,\r\n    reccomends,\r\n  } = data;\r\n\r\n  const genre = categories[1];\r\n  const subgenre = categories[0];\r\n  const newTitle = `${title} | ${subtitle || \"\"} | A book by ${authors.join(\r\n    \", \"\r\n  )}`;\r\n  const image = largeImage || thumbnail;\r\n\r\n  document.title = newTitle;\r\n  setElementText(\".b-name\", title);\r\n  setElementText(\".author-name\", authors.join(\", \"));\r\n  setElementText(\".short-info\", shortInfo.slice(0, 200) + \"...\");\r\n\r\n  getElement(\".user-categories\").innerHTML = Array.from(new Set(categories))\r\n    .map((x) => `<li>${x}</li>`)\r\n    .join(\"\");\r\n  getElements(\".order-link\").forEach(\r\n    (element) => (element.href = buyLink || \"\")\r\n  );\r\n  getElements(\".preview-link\").forEach((x) => (x.href = previewLink));\r\n  getElements(\".genre\").forEach((x) => (x.textContent = genre));\r\n  getElements(\".sub-genre\").forEach((x) => (x.textContent = subgenre));\r\n  getElement(\"#description\").innerHTML = description;\r\n  setBookCoverImage(thumbnail);\r\n\r\n  renderMockup(thumbnail, title);\r\n  setAuthorData(authors);\r\n  if (!reccomends) getElement(\"#recommended-books\").style.display = \"none\";\r\n  else {\r\n    setReccommendations(reccomends);\r\n  }\r\n};\r\n\r\n/*\r\n1. Import necessary modules and configurations.\r\n2. Define `setReccommendations` function to update the DOM with book recommendations.\r\n  a. Get all book elements from the DOM.\r\n  b. Iterate over each recommendation and update the corresponding book element with the image, title, author, and a URL-encoded link.\r\n3. Define `setAuthorData` function to fetch and display author data.\r\n  a. Fetch author data using the first author's name.\r\n  b. If author data is fetched successfully, update the DOM with the author's name, bio, and image.\r\n  c. If the author's bio is empty or an error occurs, hide the author section.\r\n4. Define `getBook` async function to fetch book data and recommendations based on a query.\r\n  a. Construct a URL to fetch book data from the Google Books API.\r\n  b. Fetch book data and extract necessary details.\r\n  c. Attempt to fetch recommendations; handle errors by setting recommendations to null.\r\n  d. Return an object containing all the extracted and fetched data.\r\n5. Define `setWebpageData` function to update the webpage with the fetched book data.\r\n  a. Update the document title and various elements in the DOM with the book's details.\r\n  b. If recommendations are available, display them; otherwise, hide the recommendations section.\r\n\r\n*/\r\n","import { API_CONFIG } from \"./config.js\";\r\nimport simpleCache from \"./caching.js\";\r\n\r\nconst timer = (ms) =>\r\n  new Promise((resolve, reject) =>\r\n    setTimeout(() => reject(\"Response Timeout!! Internet Connection too slow\"), ms)\r\n  );\r\n\r\nexport const getData = async (url, options = null, jsonify = true) => {\r\n  try {\r\n    const cacheData = simpleCache.get(url);\r\n    if (cacheData) {\r\n      return cacheData;\r\n    }\r\n    const response = await Promise.race([fetch(url, options), timer(20000)]);\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! status: ${response.status}`);\r\n    }\r\n    if (!jsonify) return response;\r\n    const data = await response.json();\r\n    simpleCache.set(url, data);\r\n    return data;\r\n  } catch (error) {\r\n    console.error(error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const postData = async (url, data) => {\r\n  try {\r\n    const file_name = data.file_name;\r\n    const cacheData = simpleCache.get(file_name);\r\n    if (cacheData) {\r\n      return cacheData;\r\n    }\r\n    const response = await fetch(url, {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! status: ${response.status}`);\r\n    }\r\n\r\n    if (response.status !== 200) return [];\r\n\r\n    const responseData = await response.json();\r\n    simpleCache.set(file_name, responseData);\r\n    return responseData;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const removeBackground = async (image_url, file_name) => {\r\n  const cached = simpleCache.get(file_name);\r\n  if (cached) {\r\n    return cached;\r\n  }\r\n  const url = `${API_CONFIG.BGREMOVER}?file_path=${image_url}&file_name=${file_name}`;\r\n\r\n  try {\r\n    const data = await getData(url);\r\n    simpleCache.set(file_name, data);\r\n    return data;\r\n  } catch (error) {\r\n    console.error(error);\r\n    throw error;\r\n  }\r\n};\r\n","class Cache {\r\n  constructor(name) {\r\n    this.name = name;\r\n    this.cache = localStorage.getItem(name)\r\n      ? JSON.parse(localStorage.getItem(name))\r\n      : {};\r\n    this.limit = 25;\r\n  }\r\n\r\n  set(key, value) {\r\n    this.cache[key] = value;\r\n    if (Object.keys(this.cache).length > this.limit) {\r\n      const keys = Object.keys(this.cache);\r\n      delete this.cache[keys[0]];\r\n    }\r\n    localStorage.setItem(this.name, JSON.stringify(this.cache));\r\n  }\r\n\r\n  get(key) {\r\n    return this.cache[key];\r\n  }\r\n\r\n  delete(key) {\r\n    delete this.cache[key];\r\n    localStorage.setItem(this.name, JSON.stringify(this.cache));\r\n  }\r\n}\r\n\r\nconst simpleCache = new Cache(\"cachedForYourConvenienceOnly\");\r\n\r\nexport default simpleCache;\r\n","import { getData } from \"./api.js\";\r\n\r\nconst AUTHOR_IMAGE = (id) => `https://covers.openlibrary.org/b/id/${id}-L.jpg`;\r\n\r\nexport const getAuthor = async (author) => {\r\n  const url = `https://openlibrary.org/search/authors.json?q=${author}`;\r\n  const authorResponse = await getData(url);\r\n\r\n  const authorKey = authorResponse.docs[0].key;\r\n  const authorUrl = `https://openlibrary.org/authors/${authorKey}.json`;\r\n  const authorData = await getData(authorUrl);\r\n\r\n  return {\r\n    name: authorData.name,\r\n    image: authorData.photos ? AUTHOR_IMAGE(authorData.photos[0]) : null,\r\n    bio: authorData.bio?.value || authorData.bio || \"\",\r\n    url: authorData.links ? authorData.links[0].url : \"#\",\r\n  };\r\n};\r\n","import { API_CONFIG } from \"./config\";\r\nimport { postData } from \"./api\";\r\n\r\nconst { RECOMMEND_URL } = API_CONFIG;\r\n\r\nexport const getRecommendations = async (query) => {\r\n    const data = {\r\n      \"name\" : query\r\n    }\r\n    \r\n    try {\r\n      const recommendations = await postData(RECOMMEND_URL, data);  \r\n      return recommendations;\r\n    } catch (error) {\r\n      throw error;\r\n    }                                                      \r\n};\r\n","import { API_CONFIG, stateVariables } from \"./config.js\";\r\nimport { postData } from \"./api.js\";\r\nimport { loadPage } from \"./bookDetail.js\";\r\n\r\nconst setMockup = (mockupURL) => {\r\n  document.querySelectorAll(\".book-img img\").forEach((bookImage) => {\r\n    bookImage.src = mockupURL;\r\n    bookImage.addEventListener(\"load\", () => {\r\n      stateVariables.mockupLoaded = true;\r\n      if (stateVariables.coverLoaded) {\r\n        loadPage();\r\n      }\r\n    });\r\n  });\r\n};\r\n\r\nexport const renderMockup = async (image_url, book_name) => {\r\n  image_url = image_url.replace(\"http://\", \"https://\");\r\n  const file_name = \"mockup_\" + book_name;\r\n\r\n  const url = API_CONFIG.MOCKUP_URL;\r\n  const options = {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Accept: \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      nr: 1404,\r\n      layer_inputs: [\r\n        {\r\n          id: \"jujmugkht9uyhlb6sjd\",\r\n          data: image_url,\r\n          checked: true,\r\n        },\r\n        {\r\n          id: \"jujmugkhplsvkwqyyxg\",\r\n          checked: true,\r\n          color: { red: 0, green: 0, blue: 0 },\r\n        },\r\n      ],\r\n    }),\r\n  };\r\n\r\n  try {\r\n    const data = {\r\n      options: options,\r\n      file_name: file_name,\r\n    };\r\n\r\n    const response = await postData(url, data);\r\n    if (!response) {\r\n      if (stateVariables.coverLoaded) {\r\n        loadPage();\r\n      }\r\n      throw new Error(response[\"message\"]);\r\n    }\r\n    const mockupURL = response[\"file_path\"];\r\n    setMockup(mockupURL);\r\n  } catch (error) {\r\n    console.error(error);\r\n    throw error;\r\n  }\r\n};\r\n","import { getElement } from \"./domUtils\";\r\n\r\nexport const handleDataUrl = () => {\r\n  const dataUrl = document.querySelectorAll(\"[data-url]\");\r\n  dataUrl.forEach((element) => {\r\n    const url = element.getAttribute(\"data-url\");\r\n    element.addEventListener(\"click\", (event) => {\r\n      event.preventDefault();\r\n      window.location.href = url;\r\n    });\r\n  });\r\n};\r\n\r\nexport const handleBatchDataUrl = () => {\r\n  const books = getElement(\".books\");\r\n  books.addEventListener(\"click\", (event) => {\r\n    const target = event.target.closest(\"[data-url]\");\r\n    if (!target) return;\r\n    event.preventDefault();\r\n    const url = target.getAttribute(\"data-url\");\r\n    window.location.href = url;\r\n  });\r\n};\r\n"],"names":["$e88bdb92d8dec57e$export$c8422a29a076b4c0","BGREMOVER","RECOMMEND_URL","TOP_50","RESULT_PER_PAGE","GOOGLE_URL","MOCKUP_URL","$e88bdb92d8dec57e$export$d45413ebeb6cb2fc","mockupLoaded","bgImageLoaded","$61ac2def64847fa8$export$d16800b7e59a8051","selector","document","querySelector","$61ac2def64847fa8$export$73eac51a39d6b0eb","querySelectorAll","$61ac2def64847fa8$export$1193aae213924971","text","forEach","element","textContent","$7be79d0d3f9505af$export$dc7ee2005613a61b","header","lastScrollTop","dec","scrollDown","classList","remove","scrollUp","add","window","addEventListener","scrollTop","pageYOffset","documentElement","$7be79d0d3f9505af$export$d1dd841af70fe4d3","home","headerOnserver","IntersectionObserver","entries","entry","isIntersecting","threshold","observe","$7be79d0d3f9505af$export$35953e4bb71dba4f","content","getElementById","startY","isPulling","top","e","innerHeight","scrollY","body","offsetHeight","touches","pageY","passive","pullDistance","style","transform","$7be79d0d3f9505af$var$scrollHandler","target","targetPosition","targetElement","getAttribute","offsetTop","headerHeight","scrollTo","behavior","$7be79d0d3f9505af$export$9f210a0fd4be39e9","navLinks","navBtns","navLink","closest","preventDefault","console","log","navBtn","$0d8aff29f2708e5b$var$simpleCache","constructor","name","cache","localStorage","getItem","JSON","parse","limit","set","key","value","Object","keys","length","setItem","stringify","get","delete","$4db2a84c113292af$var$timer","ms","Promise","resolve","reject","setTimeout","$4db2a84c113292af$export$7a171f172be0782e","url","options","jsonify","cacheData","response","race","fetch","ok","Error","status","data","json","error","$4db2a84c113292af$export$4e87299c28e9a838","file_name","method","headers","responseData","$4db2a84c113292af$export$bcbafd0c688e5b8d","image_url","cached","$c828a01d1e3fe69d$var$AUTHOR_IMAGE","id","$c828a01d1e3fe69d$export$31577d79be25397a","author","authorKey","authorResponse","docs","authorUrl","authorData","image","photos","bio","links","$59a61f5b5bfc582c$var$RECOMMEND_URL","$59a61f5b5bfc582c$export$358779cacf74ee7a","query","$55834cc0ed2fb12e$var$setMockup","mockupURL","bookImage","src","coverLoaded","$0276211fa007143c$export$a2e58475e09a3523","$55834cc0ed2fb12e$export$c8ec9adc2ec8654","book_name","replace","Accept","nr","layer_inputs","checked","color","red","green","blue","$39a490758e6557ae$export$2cb4d324af6458cf","dataUrl","event","location","href","$55141bda1e858a82$var$GOOGLE_URL","$55141bda1e858a82$var$setReccommendations","reccomends","bookList","title","detail","i","encodeURIComponent","dataset","$55141bda1e858a82$var$setAuthorData","authors","then","display","authorImageName","res","innerHTML","catch","$55141bda1e858a82$export$be7c2acc48adceee","searchData","items","mostSimilarBook","highestSimilarity","item","similarity","$55141bda1e858a82$var$jaccardSimilarity","str1","str2","boost","set1","Set","toLowerCase","split","set2","intersection","filter","x","has","union","size","patterns","regex","weight","pattern","hasPattern1","test","hasPattern2","volumeInfo","shortInfo","searchInfo","textSnippet","bookUrl","selfLink","bookData","subtitle","description","thumbnail","imageLinks","infoLink","largeImage","large","rating","averageRating","buyLink","saleInfo","previewLink","accessInfo","webReaderLink","categories","map","slice","trim","$55141bda1e858a82$export$77576c9b28f16747","genre","subgenre","newTitle","join","Array","from","imageUrl","backgroundImage","tempImg","Image","onload","revealElements","revealObserver","opacity","urlParams","URLSearchParams","search","msg","parent","insertAdjacentHTML"],"version":3,"file":"home.7abdff61.js.map"}